(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,a){e.exports=a(405)},164:function(e,t,a){},166:function(e,t,a){},168:function(e,t,a){},192:function(e,t,a){},194:function(e,t,a){},199:function(e,t,a){},201:function(e,t,a){},398:function(e){e.exports=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.fill",stylers:[{lightness:"17"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape.man_made",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"},{color:"#ff4700"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.highway",elementType:"labels",stylers:[{invert_lightness:!0},{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{color:"#3b3b3b"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ff4700"},{lightness:"39"},{gamma:"0.43"},{saturation:"-47"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#555555"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]},399:function(e,t,a){},401:function(e,t,a){},403:function(e,t,a){},405:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(68),l=a.n(o),s=(a(164),a(2)),i=a(3),c=a(4),u=a(6),m=a(5),p=a(7),h=(a(166),a(168),n.Component,a(18)),d=a.n(h),f=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e){var a=new FormData;return Object.keys(e).forEach(function(t){return a.append(t,e[t])}),t.service.post("/signup",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},this.login=function(e){return t.service.post("/login",e).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data})},this.service=d.a.create({baseURL:"".concat("https://thefoodroutes.herokuapp.com/api","/auth"),withCredentials:!0})},g=a(411),y=(a(192),a(40)),b=a(410),E=(a(194),a(408)),v=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.email,o=a.password;e.authService.signup({username:n,email:r,password:o}).then(function(t){e.setState({username:"",email:"",password:"",redirect:!0},function(){return e.props.getUser(t)})})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(s.a)({},e.state,Object(y.a)({},n,r)))},e.state={username:"",email:"",password:"",redirect:!1},e.authService=new f,e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state&&this.state.redirect?r.a.createElement(b.a,{to:"/profile"}):r.a.createElement("div",{class:"register-container"},r.a.createElement("h2",null,"Signup"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,class:"form"},r.a.createElement("label",null,"Nombre de usuario"),r.a.createElement("input",{type:"text",name:"username",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Contrase\xf1a"),r.a.createElement("input",{type:"password",name:"password",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("div",{class:"center-text"},r.a.createElement("p",null,"\xbfTienes una cuenta?"),r.a.createElement(E.a,{id:"orange-text",to:"/login"},"Login")))}}]),t}(n.Component),T=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;e.authService.login({username:n,password:r}).then(function(t){e.setState(Object(s.a)({},e.state,{redirect:!0}),function(){e.props.getUser(t)})})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(y.a)({},n,r))},e.state={username:"",password:"",redirect:!1},e.authService=new f,e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?(console.log("entra"),r.a.createElement(b.a,{to:"/profile"})):r.a.createElement("div",{class:"register-container adjust-login-container"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,class:"form"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",name:"username",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Login"})),r.a.createElement("div",{class:"center-text"},r.a.createElement("p",null,"\xbfNo tienes cuenta?"),r.a.createElement(E.a,{id:"orange-text",to:"/signup"},"Reg\xedstrate")))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).toggleSignupLogin=function(){a.setState(Object(s.a)({},a.state,{showSignupOrLogin:!0}))},a.props.fetchUser(),a.AuthService=new f,a.state={showSignupOrLogin:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("div",{class:"register"},r.a.createElement("div",null,r.a.createElement(g.a,{path:"/signup",render:function(){return r.a.createElement(v,{getUser:e.props.getUser,fetchUser:e.props.fetchUser})}})),r.a.createElement("div",{class:"register-buttons"},r.a.createElement(g.a,{path:"/login",render:function(){return r.a.createElement(T,{getUser:e.props.getUser})}}),this.state.showSignupOrLogin?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("button",null,r.a.createElement(E.a,{onClick:this.toggleSignupLogin,to:"/signup"},"Reg\xedstrate")),r.a.createElement("button",null,r.a.createElement(E.a,{onClick:this.toggleSignupLogin,to:"/login"},"Login"))))),r.a.createElement("div",{class:"background-image"},r.a.createElement("img",{src:"/images/barimg.png",alt:""}))),r.a.createElement("section",{className:"mainText"},r.a.createElement("h3",null,"Rutas gastron\xf3micas por el mundo"),r.a.createElement("p",null,"Imagine un viaje repleto de detalles gastron\xf3micos, en el que usted disfrute de cada lugar y de su cultura gastron\xf3mica. Olv\xeddese de reservas, solo tendr\xe1 que disfrutar de su viaje . Descubra en nuestra selecci\xf3n de rutas una forma diferente de viajar por Espa\xf1a. Podr\xe1 crear su propia ruta comiendo en los restaurnates que desee disfrutando as\xed de la mejor gastronom\xeda local. En The Food Routes, no se tendr\xe1 que preocupar por ningun detalle, tan solo de disfrutar de las mejores propuestas para hacer de su viaje un viaje de ensue\xf1o."),r.a.createElement("hr",null)),r.a.createElement("section",{class:"carrusel-img"},r.a.createElement("img",{src:"/images/carrusel.png",alt:""})),r.a.createElement("hr",null),r.a.createElement("section",{className:"mainText"},r.a.createElement("h3",null,"Rutas gastron\xf3micas por el mundo"),r.a.createElement("p",null,"Cree su propia ruta o simplemente inscribase en las creadas por otros usuarios. Podr\xe1 conocer nuevos lugares, disfrutar de los mejores restaurantes seg\xfan sus gustos y conocer a los pr\xf3ximos compa\xf1eros de aventura.")),r.a.createElement("footer",null,"Copyright 2018 Jorge Devesa & \xc1ngel Terr\xf3n"))}}]),t}(n.Component),C=(a(199),a(201),a(41)),j=a(47),O=(a(398),Object(C.compose)(Object(C.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyB8NzS5RBf23YH2cAwWi8t0HlpwPfqB6no&v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),j.withScriptjs,j.withGoogleMap,Object(C.lifecycle)({componentDidMount:function(){var e=this,t=this.props.sendRouteData.restaurants,a=new google.maps.DirectionsService,n=[];t.map(function(e,a){console.log(e),0!==a&&a!==t.length-1&&n.push({location:new google.maps.LatLng(e.coordinates.latitude,e.coordinates.longitude)})}),console.log(n),a.route({origin:new google.maps.LatLng(t[0].coordinates.latitude,t[0].coordinates.longitude),waypoints:n,destination:new google.maps.LatLng(t[t.length-1].coordinates.latitude,t[t.length-1].coordinates.longitude),travelMode:google.maps.TravelMode.WALKING},function(t,a){a===google.maps.DirectionsStatus.OK?e.setState({directions:t}):console.error("error fetching directions ".concat(t))})},componentDidUpdate:function(e){var t=this,a=this.props.sendRouteData.restaurants,n=[];a.map(function(e,t){console.log(e),0!==t&&t!==a.length-1&&n.push({location:new google.maps.LatLng(e.coordinates.latitude,e.coordinates.longitude)})}),(new google.maps.DirectionsService).route({origin:new google.maps.LatLng(a[0].coordinates.latitude,a[0].coordinates.longitude),destination:new google.maps.LatLng(a[a.length-1].coordinates.latitude,a[a.length-1].coordinates.longitude),travelMode:google.maps.TravelMode.WALKING,waypoints:n},function(e,a){a===google.maps.DirectionsStatus.OK?t.setState({directions:e}):console.error("error fetching directions ".concat(e))})}}))(function(e){return r.a.createElement(j.GoogleMap,{defaultZoom:7,defaultCenter:{lat:-34.397,lng:150.644},defaultOptions:{styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}]}},e.directions&&r.a.createElement(j.DirectionsRenderer,{directions:e.directions,options:{polylineOptions:{strokeColor:"orange"}}}))})),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.sendRouteData?r.a.createElement("div",null,r.a.createElement(O,{sendRouteData:this.props.sendRouteData})):r.a.createElement("p",null)}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getUserRoutes=function(){return a.service.get("/").then(function(e){var t=e.data.track.createdTrack;return a.setState(Object(s.a)({},a.state,{userRoutes:t})),e}).catch(function(e){return console.log(e)})},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.createRoutes,n=t.routesName,r=t.category,o=t.routesType;a.getRoute({routesName:n,category:r,routesType:o}).then(function(e){e.data._id;a.props.createRoutes(e.data),a.getUserRoutes()})},a.getRoute=function(e){return a.service.post("/createTrack",e).then(function(e){return e})},a.handleFormSubmitUPDATE=function(e,t){e.preventDefault();var n=a.state.createRoutes,r=n.routesName,o=n.category,l=n.routesType;a.updateRoute({routesName:r,category:o,routesType:l},t).then(function(e){console.log(e.data.routesName),a.getUserRoutes()})},a.handleChangeUPDATE=function(e){var t=e.target,n=t.name,r=t.value,o=a.state.createRoutes;o[n]=r,console.log(o),a.setState(Object(s.a)({},a.state,{createRoutes:o}))},a.updateRoute=function(e,t){return a.service.post("/".concat(t,"/update"),e).then(function(e){return e})},a.deleteRoute=function(e,t){return e.preventDefault(),a.service.post("/".concat(t,"/delete"),t).then(function(e){return a.getUserRoutes(),e})},a.showRoutesDetails=function(e){a.setState(Object(s.a)({},a.state,{showRouteData:e})),a.props.scrollToRecipe()},a.showAllYourRoutes=function(){a.setState(Object(s.a)({},a.state,{showRouteData:null}))},a.service=d.a.create({baseURL:"".concat("https://thefoodroutes.herokuapp.com/api","/tracks"),withCredentials:!0}),a.state={createRoutes:{routesName:"",category:"",routesType:""},userRoutes:[{}],restaurant:null,showRouteData:null},a.routes=[],a.getUserRoutes(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.scrollToRecipe()}},{key:"render",value:function(){var e=this;console.log(this.state.showRouteData);var t=this.state.userRoutes?r.a.createElement("div",{className:"show-route-container"},this.state.userRoutes.map(function(t,a){return r.a.createElement("div",{className:"yourRoutes-container",key:t._id},r.a.createElement("div",null,r.a.createElement("div",{className:"each-Route",onClick:function(){return e.showRoutesDetails(t)},style:{backgroundImage:"url(".concat(t.image,")")}},r.a.createElement("div",{className:"route-details"},r.a.createElement("h3",null,t.routesName),r.a.createElement("p",null,"Categor\xeda: ",t.category)))),r.a.createElement("form",{className:"form-container",onSubmit:function(a){return e.handleFormSubmitUPDATE(a,t._id)}},r.a.createElement("label",null,"Actualizar rutas: "),r.a.createElement("input",{type:"text",name:"routesName",onChange:function(t){return e.handleChangeUPDATE(t)},placeholder:"Nombre de la ruta",autoComplete:"off"}),r.a.createElement("input",{type:"text",name:"category",onChange:function(t){return e.handleChangeUPDATE(t)},placeholder:"Categor\xeda",autoComplete:"off"}),r.a.createElement("input",{type:"text",name:"routesType",onChange:function(t){return e.handleChangeUPDATE(t)},placeholder:"Tipo de ruta",autoComplete:"off"}),r.a.createElement("input",{type:"submit"})),r.a.createElement("form",{className:"form-delete",onSubmit:function(a){return e.deleteRoute(a,t._id)}},r.a.createElement("input",{value:"X",type:"submit"})))})):"no hay rutas",a=this.state.showRouteData?r.a.createElement("div",{className:"menu-half-routes"},r.a.createElement("div",{className:"menu-routes-container"},r.a.createElement("h3",null,"Rutas:"),this.state.userRoutes.map(function(t){return console.log(t),r.a.createElement("div",{className:"each-route-container",onClick:function(){return e.showRoutesDetails(t)}},r.a.createElement("h4",null,t.routesName),r.a.createElement("h5",null,"Categor\xeda :",t.category),r.a.createElement("h5",null,"Duraci\xf3n: ",t.duration),r.a.createElement("h5",null,"Fecha: ",t.date),r.a.createElement("h5",null,"Hora inicio: ",t.hour),r.a.createElement("hr",null))}),r.a.createElement("button",{onClick:this.showAllYourRoutes},"Mostrar todas tus rutas")),r.a.createElement("div",{id:"stops-container"},r.a.createElement("h3",null,"Itinerario:"),this.state.showRouteData.restaurants.map(function(e,t){return r.a.createElement("div",{className:"each-stop-container"},r.a.createElement("img",{src:e.restaurantPhoto}),r.a.createElement("h2",null,r.a.createElement("img",{src:"./images/ImportedLayers.png",alt:""})," ",t+1,": ",e.restaurantName),r.a.createElement("h4",null,"Puntuaci\xf3n: ",e.rating,", "," ","Precio:"," ",e.price,", Tel\xe9fono:"," ",e.phone," "))}))):r.a.createElement("div",null,t);return r.a.createElement("div",{className:"yourRoutes-big-container"},r.a.createElement("h1",null,"Tus rutas"),a,r.a.createElement("div",{className:"map"},r.a.createElement(w,{sendRouteData:this.state.showRouteData})))}}]),t}(n.Component),N=a(158),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.restaurant,n=t.term,r=t.location;a.getRestaurants({term:n,location:r}).then(function(e){console.log(e),a.props.getRestaurants(e),a.setState(Object(s.a)({},a.state))})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,o=a.state.restaurant;o[n]=r,a.setState(Object(s.a)({},a.state,{restaurant:o}))},a.getRestaurants=function(e,t){return a.service.post("/yelp",{term:e,location:t}).then(function(e){return e.data.map(function(e){return{e:e}})})},a.service=d.a.create({baseURL:"".concat("https://thefoodroutes.herokuapp.com/api","/yelp"),withCredentials:!0}),a.state={restaurant:{term:"",location:""}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{className:"center-form-yelp",onSubmit:function(t){return e.handleFormSubmit(t,e.props.state)}},r.a.createElement("input",{type:"text",name:"term",placeholder:"Buscar restaurantes",onChange:function(t){return e.handleChange(t)},autoComplete:"off"}),r.a.createElement("input",{type:"text",name:"location",placeholder:"Ubicaci\xf3n",onChange:function(t){return e.handleChange(t)},autoComplete:"off"}),r.a.createElement("input",{type:"submit"})))}}]),t}(n.Component),U=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleFormSubmit=function(t){t.preventDefault();var a=e.state.createRoutes,n=a.routesName,r=a.category,o=a.photo,l=a.date,i=a.hour,c=a.duration;e.getRoute({routesName:n,category:r,photo:o,date:l,hour:i,duration:c}).then(function(t){e.props.createRoutes(t.data),e.setState(Object(s.a)({},e.props.state,{createRoutes:null}))})},e.handleChangeCREATE=function(t){var a=e.state.createRoutes,n=t.target,r=n.name,o=n.value;"photo"===r?(a[r]=t.target.files[0],e.setState(Object(s.a)({},e.state,{newRoute:a})),console.log(e.state.createRoutes)):(a[r]=o,e.setState(Object(s.a)({},e.state,{newRoute:a})))},e.getRoute=function(t){var a=new FormData;return Object.keys(t).forEach(function(e){return a.append(e,t[e])}),a.append("selectedRestaurants",JSON.stringify(e.state.restaurants)),e.service.post("/createTrack",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e})},e.getRestaurants=function(t){e.setState(Object(s.a)({},e.state,{restaurant:t}))},e.addRestaurant=function(t){var a=Object(N.a)(e.state.restaurants);a.push(t.e),e.setState(Object(s.a)({},e.state,{restaurants:a}))},e.state={createRoutes:{routesName:"",category:"",routesType:""},restaurant:null,restaurants:[]},e.service=d.a.create({baseURL:"".concat("https://thefoodroutes.herokuapp.com/api","/tracks"),withCredentials:!0}),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.restaurant?r.a.createElement("div",{className:"show-route-container"},this.state.restaurant.map(function(t){return r.a.createElement("div",{className:"yourRoutes-container"},r.a.createElement("div",{className:"each-Route",style:{backgroundImage:"url(".concat(t.e.image_url,")")}}),r.a.createElement("div",{className:"form-container"},r.a.createElement("h3",null,t.e.name),r.a.createElement("p",null,t.e.location.address1),r.a.createElement("p",null,t.e.price),r.a.createElement("button",{onClick:function(){return e.addRestaurant(t)}},"A\xf1adir parada")))})):r.a.createElement("div",null),a="A\xfan no has seleccionado ning\xfan restaurante.";return this.state.restaurants.length&&(a=this.state.restaurants.map(function(e){return r.a.createElement("p",null,"- ",e.name)})),r.a.createElement("div",null,r.a.createElement("div",{className:"yourRoutes-big-container"},r.a.createElement("h1",null,"Crear rutas"),r.a.createElement(k,{scrollToRecipe:this.props.scrollToRecipe,getRestaurants:this.getRestaurants,restaurants:this.props.restaurants,handleFormSubmit:this.handleFormSubmit,handleChange:this.handleChange}),r.a.createElement("div",{className:"center-form"},r.a.createElement("label",null,"Restaurantes a\xf1adidos:"),r.a.createElement("label",null,a)),r.a.createElement("form",{className:"center-form",onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("div",{clasName:"form-inputs"},r.a.createElement("input",{type:"text",name:"routesName",onChange:function(t){return e.handleChangeCREATE(t)},placeholder:"Nombre de la ruta",autoComplete:"off"}),r.a.createElement("input",{type:"text",name:"category",onChange:function(t){return e.handleChangeCREATE(t)},placeholder:"Categor\xeda",autoComplete:"off"}),r.a.createElement("input",{type:"date",name:"date",onChange:function(t){return e.handleChangeCREATE(t)},placeholder:"Fecha",autoComplete:"off"}),r.a.createElement("input",{type:"time",name:"hour",onChange:function(t){return e.handleChangeCREATE(t)},placeholder:"Hora de inicio",autoComplete:"off"}),r.a.createElement("input",{type:"text",name:"duration",onChange:function(t){return e.handleChangeCREATE(t)},placeholder:"Duraci\xf3n",autoComplete:"off"}),r.a.createElement("input",{type:"file",name:"photo",onChange:function(t){return e.handleChangeCREATE(t)}})),r.a.createElement("div",{className:"form-inputs"},r.a.createElement("input",{value:"Crear ruta",type:"submit"}))),r.a.createElement("div",null),t))}}]),t}(n.Component),D=(a(399),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).showSavedRoutesButton=function(){a.setState(Object(s.a)({},a.state,{showSavedRoutes:!0}))},a.getUserRoutes=function(){return a.service.get("/").then(function(e){var t=e.data.track;return a.setState(Object(s.a)({},a.state,{user:t})),console.log(a.state.user),e}).catch(function(e){return console.log(e)})},a.state={user:a.props.user,showSavedRoutes:null},a.service=d.a.create({baseURL:"".concat("https://thefoodroutes.herokuapp.com/api","/tracks"),withCredentials:!0}),a.getUserRoutes(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"yourRoutes-big-container"},r.a.createElement("h1",{className:"align-center"},"Tus rutas guardadas"),r.a.createElement("div",{className:"show-route-container"},this.state.user.savedRoutes.map(function(e){return r.a.createElement("div",{className:"yourRoutes-container"},r.a.createElement("div",{className:"each-Route",style:{backgroundImage:"url(".concat(e.image,")")}}),console.log(e),r.a.createElement("h2",null,e.routesName),r.a.createElement("h3",null,e.routesType),r.a.createElement("h4",null,e.category))}))))}}]),t}(n.Component)),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.user,n=t.username,r=t.email,o=t.photo;a.updateProfile({username:n,email:r,photo:o})},a.handleChange=function(e){var t=Object(s.a)({},a.state.user),n=e.target,r=n.name,o=n.value;"photo"===r?(t[r]=e.target.files[0],a.setState(Object(s.a)({},a.state,{user:t}))):(t[r]=o,a.setState(Object(s.a)({},a.state,{user:t})))},a.updateProfile=function(e){console.log(e);var t=new FormData;return Object.keys(e).forEach(function(a){return t.append(a,e[a])}),a.service.post("/details",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){a.props.getUser(e.data)})},a.createRouteButton=function(){a.state.createRoutesToggle?a.setState(Object(s.a)({},a.state,{createRoutesToggle:null})):a.setState(Object(s.a)({},a.state,{createRoutesToggle:!0})),a.scrollToRecipe()},a.createRoutes=function(e){a.setState(Object(s.a)({},a.state,{createRoutesToggle:null}))},a.showUpdateProfileButton=function(){a.state.showUpdateProfileButton?a.setState(Object(s.a)({},a.state,{showUpdateProfileButton:null})):a.setState(Object(s.a)({},a.state,{showUpdateProfileButton:!0}))},a.changeRoutes=function(){a.state.yourRoutes?a.setState(Object(s.a)({},a.state,{yourRoutes:null})):a.setState(Object(s.a)({},a.state,{yourRoutes:!0})),a.scrollToRecipe()},a.scrollToRecipe=function(){window.scrollBy({top:document.querySelector("body").clientHeight,left:0,behavior:"smooth"})},a.service=d.a.create({baseURL:"".concat("https://thefoodroutes.herokuapp.com/api","/editProfile"),withCredentials:!0}),a.state={user:a.props.user,userRoutes:a.props.user,createRoutesToggle:null,showUpdateProfileButton:!0,yourRoutes:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.scrollToRecipe()}},{key:"render",value:function(){var e=this,t=this.state.yourRoutes?r.a.createElement("div",null,r.a.createElement("button",{className:"align-buttoms",onClick:this.changeRoutes},"Rutas Guardadas"),r.a.createElement(S,{scrollToRecipe:this.scrollToRecipe,userRoutes:this.userRoutes,createRoutes:this.props.createRoutes,handleFormSubmit:this.handleFormSubmit,handleChange:this.handleChange})):r.a.createElement("div",null,r.a.createElement("button",{className:"align-buttoms",onClick:this.changeRoutes},"Tus publicaciones"),r.a.createElement(D,{user:this.state.user})),a=this.state.createRoutesToggle?r.a.createElement("section",{className:"routes-from-profile"},r.a.createElement("button",{className:"align-buttoms fix-button",onClick:this.createRouteButton},"Tus rutas"),r.a.createElement(U,{scrollToRecipe:this.scrollToRecipe,createRoutes:this.createRoutes,getRoutes:this.getRoutes,state:this.state})):r.a.createElement("div",null,r.a.createElement("button",{className:"align-buttoms",onClick:this.createRouteButton},"Crear Ruta"),t),n=this.state.showUpdateProfileButton?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("form",{className:"flex-row",onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("input",{type:"text",name:"username",value:this.state.user.username,autoComplete:"off",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"email",name:"email",value:this.state.user.email,autoComplete:"off",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"text",name:"taste",autoComplete:"off",value:"Tus gustos"}),r.a.createElement("div",{className:"input-fix"},r.a.createElement("input",{type:"file",name:"photo",onChange:function(t){return e.handleChange(t)}})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Actualizar"}))))):r.a.createElement("button",{onClick:this.showUpdateProfileButton},"Editar perfil");return r.a.createElement("div",null,r.a.createElement("div",{id:"profile-details"},r.a.createElement("img",{id:"profile-photo",src:this.state.user.imgPath,alt:""}),r.a.createElement("div",{id:"profile-details-container"},r.a.createElement("h1",null,this.state.user.username),r.a.createElement("h4",null,this.state.user.email),n)),a)}}]),t}(n.Component),L=(a(401),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("div",null),r.a.createElement("div",{class:"navbar"},r.a.createElement("div",null,r.a.createElement("img",{className:"logo",src:"./images/logo.png"})),r.a.createElement("div",null,r.a.createElement(E.a,{to:"/profile"},r.a.createElement("img",{src:"./images/manifest.png",alt:"profile"})),r.a.createElement(E.a,{to:"/allRoutes"},r.a.createElement("img",{src:"./images/ruta.svg",alt:"profile"})),r.a.createElement("img",{src:"./images/logout.png",alt:"logout",onClick:this.props.logout})))))}}]),t}(n.Component)),A=(a(403),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).getAllRoutes=function(){e.service.get("/allRoutes").then(function(t){e.setState(Object(s.a)({},e.state,{allRoutes:t.data.track}))})},e.followTrack=function(t,a){return t.preventDefault(),e.service.post("/".concat(a,"/followRoutes"),a).then(function(e){})},e.state={allRoutes:null},e.service=d.a.create({baseURL:"".concat("https://thefoodroutes.herokuapp.com/api","/tracks"),withCredentials:!0}),e.getAllRoutes(),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.allRoutes?this.state.allRoutes.map(function(t){return r.a.createElement("div",{className:"yourRoutes-container"},r.a.createElement("div",{className:"each-Route",style:{backgroundImage:"url(".concat(t.image,")")}},r.a.createElement("div",{className:"show-user-on-routes"},r.a.createElement("img",{src:t.creatorID[0].imgPath}),r.a.createElement("label",{className:"margin-user-creator"},t.creatorID[0].username)),console.log(t)),r.a.createElement("div",{className:"form-container margin-bottom-container-routes"},r.a.createElement("h3",null,t.routesName),t.restaurants.map(function(e){return r.a.createElement("div",{className:"each-stop-on-target"},r.a.createElement("hr",null),r.a.createElement("div",{className:"flex-space-between"},r.a.createElement("a",{href:e.url},r.a.createElement("h4",null,r.a.createElement("img",{src:"./images/ImportedLayers.png",alt:""}),e.restaurantName))),r.a.createElement("div",{className:"restaurant-detail-container"},r.a.createElement("h5",null," Puntuaci\xf3n: ",e.rating),r.a.createElement("h5",null,e.location.city)))}),r.a.createElement("button",{onClick:function(a){return e.followTrack(a,t._id)}},"follow")))}):r.a.createElement("h1",null);return r.a.createElement("div",null,r.a.createElement("h1",{className:"align-center"},"Todas las rutas"),r.a.createElement("div",{className:"yourRoutes-big-container"},r.a.createElement("div",{className:"show-route-container"},t)))}}]),t}(n.Component)),P=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).fetchUser=function(){e.authService.loggedin().then(function(t){return e.setState(Object(s.a)({},e.state,{user:t}))})},e.getUser=function(t){e.setState(Object(s.a)({},e.state,{user:t}))},e.logout=function(){e.authService.logout().then(function(){return e.setState(Object(s.a)({},e.state,{user:null}))})},e.createRoutes=function(t){console.log("funci\xf3n: createRoutes. Recibe: (siguiente console.log"),console.log(t),e.setState(Object(s.a)({},e.state,{route:t}))},e.state={user:null,route:null},e.authService=new f,e.inputYelp=new k,e.fetchUser(),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.user?r.a.createElement("div",null,r.a.createElement(L,{logout:this.logout}),r.a.createElement(g.a,{path:"/profile",render:function(){return r.a.createElement(x,{getUser:e.getUser,user:e.state.user,createRoutes:e.createRoutes})}}),r.a.createElement(g.a,{path:"/allRoutes",render:function(){return r.a.createElement(A,{getUser:e.getUser})}})):r.a.createElement(g.a,{path:"/",render:function(){return r.a.createElement(R,{getUser:e.getUser,fetchUser:e.fetchUser})}});return r.a.createElement("div",{className:"App"},t)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(409);l.a.render(r.a.createElement(F.a,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[159,2,1]]]);
//# sourceMappingURL=main.8e8c2aa0.chunk.js.map